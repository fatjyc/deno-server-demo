# This is a basic workflow to help you get started with Actions

name: Update Submodule

# Controls when the workflow will run
on:
  workflow_run:
    workflows: ["Docker Image CI"]
    branches: main
    types:
      - completed

jobs:
  on-success:
    runs-on: ubuntu-latest
    if: ${{ github.event.workflow_run.conclusion == 'success' }}
    steps:
      - name: update submodule
        uses: fatjyc/update-submodule-action@95d5d16f4044a7b8f1267995557e0511ca71a8ed
        with:
          user: fatjyc
          token: ${{ secrets.GH_TOKEN }}
          repo_owner: fatjyc
          repo: submodule-demo
          committor_username: xxx
          committor_email: xxx@xxx.com
          target_branch: main
